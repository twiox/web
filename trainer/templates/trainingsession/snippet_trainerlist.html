<div>
    <ul>
    {% for trainer in object_list %}
    <li>{{trainer.user.first_name}} {{trainer.user.last_name}} 
        {% if not session.payed %}
        <span 
            hx-post="{% url 'trainingsession_del_trainer' session.pk %}?type={{type}}" 
            hx-vals='{"trainer_pk":"{{trainer.pk}}"}'
            hx-target="#{{type}}-list"
            style="cursor: pointer;">
            <i class="far fa-minus-square" aria-hidden="true"></i>
        </span>
        {% endif %}
    </li>
    {% endfor %}
    </ul>
    {% if not session.payed %}
    <form
        hx-get="{% url 'trainingsession_search' session.pk %}?type={{type}}"
        hx-target="#{{type}}-search-results"
        hx-trigger="input changed delay:250ms"
    >
        <label class="mdc-text-field">
            <input type="text" class="mdc-text-field__input" name="query" >
            <span class="mdc-floating-label" id="query-label">Trainersuche</span>
        </label>
    </form>
    {% endif %}

    <div id="{{type}}-search-results"></div>
</div>

<script>
    document.body.addEventListener('htmx:afterSettle', function (evt) {
    const fields = evt.detail.target.querySelectorAll('.mdc-text-field');
    fields.forEach(field => mdc.textField.MDCTextField.attachTo(field));
});
</script>